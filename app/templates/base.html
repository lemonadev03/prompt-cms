<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Prompt CMS - Content Management System for Markdown Prompts">
    <title>{% block title %}Prompt CMS{% endblock %}</title>
    <link rel="stylesheet" href="{{ url_for('static', path='css/admin.css') }}">
    <!-- Fallback for production if static files fail -->
    <style>
    /* Critical CSS fallback */
    body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif; margin: 0; background: #f5f5f5; }
    .container { min-height: 100vh; display: flex; flex-direction: column; }
    .header { background: #fff; padding: 1rem 2rem; display: flex; justify-content: space-between; align-items: center; box-shadow: 0 2px 4px rgba(0,0,0,0.1); }
    .header h1 a { color: #2c3e50; text-decoration: none; font-size: 1.5rem; }
    .main { flex: 1; padding: 2rem; }
    .btn { padding: 0.5rem 1rem; border: none; border-radius: 4px; text-decoration: none; cursor: pointer; }
    .btn-primary { background: #007bff; color: white; }
    .btn-outline { background: transparent; color: #666; border: 1px solid #ddd; }
    .prompts-table { width: 100%; border-collapse: collapse; background: white; }
    .prompts-table th, .prompts-table td { padding: 1rem; text-align: left; border-bottom: 1px solid #e1e5e9; }
    .prompts-table th { background: #f8f9fa; }
    </style>
    {% block extra_head %}{% endblock %}
</head>
<body>
    <div class="container">
        {% block header %}
        <header class="header">
            <h1><a href="/admin">Prompt CMS</a></h1>
            {% if request.session.get('authenticated') %}
            <nav class="nav">
                <a href="/admin" class="nav-link">Dashboard</a>
                <a href="/admin/prompt/new" class="nav-link">New Prompt</a>
                <form action="/admin/logout" method="post" class="logout-form">
                    <button type="submit" class="btn btn-outline">Logout</button>
                </form>
            </nav>
            {% endif %}
        </header>
        {% endblock %}

        <main class="main">
            {% block content %}{% endblock %}
        </main>

        {% block footer %}
        <footer class="footer">
            <p>&copy; 2024 Prompt CMS. Built with FastAPI.</p>
        </footer>
        {% endblock %}
    </div>

    {% block scripts %}
    <script src="{{ url_for('static', path='js/admin.js') }}"></script>
    {% endblock %}
</body>
</html> 